# 🧮 2026春晚计算器

一个仿华为手机原生计算器的网页应用，支持基础计算功能，并内置了魔术表演功能。

## ✨ 特性

- 🎨 **仿华为原生UI** - 深色渐变背景，圆形按钮设计，橙色运算符
- 🔢 **完整计算功能** - 加减乘除、百分号、小数点、删除、清空
- ⌨️ **键盘支持** - 支持物理键盘输入
- 📱 **响应式设计** - 适配不同屏幕尺寸
- 🎭 **魔术模式** - 完美配合春晚魔术表演

## 🎭 魔术模式说明

### 魔术原理

魔术模式利用时间数学原理，让观众见证"预言"的神奇：

```
最终结果 = 第一次运算结果 + (当前时间 - 第一次运算结果) = 当前时间
```

### 完整流程

```
步骤1：连续点击 3 次等号键 → 进入魔术模式（屏幕数字不变）

步骤2：输入第一个数 + 第二个数 = 屏幕显示第一次运算结果
      示例：1230 + 58712 = 59942

步骤3：再按一次加号键 → 进入多人输入阶段

步骤4：让观众 N 个人随意输入数字（屏幕正常显示，但不参与实际计算）

步骤5：连续 5 秒无输入 → 屏幕数字自动替换为：当前时间(MMDDHHmm) - 第一次运算结果

步骤6：按等号键 → 显示最终结果 = 当前时间（观众见证奇迹！）
```

### 时间格式说明

- MM：月份（01-12）
- DD：日期（01-31）
- HH：小时（00-23，24小时制）
- mm：分钟（00-59）

示例：如果当前时间是 2026年2月17日 14:30，则时间值为 `02171430`

### 演示示例

```
1. 连续按 3 次 = → 进入魔术模式

2. 输入：1230 + 58712 = → 显示 59942

3. 按 + → 进入多人输入阶段

4. 让观众输入：8888 → 屏幕显示 8888（不参与计算）

5. 等待 5 秒 → 屏幕自动变为：当前时间 - 59942
   假设当前时间是 02171430，则显示：02171430 - 59942 = 02111488

6. 按 = → 最终显示：02171430（当前时间！）
```

## 🚀 快速开始

### 方法一：直接打开（推荐）

```bash
# 克隆或下载项目
git clone <repository-url>
cd 2026_chunwan_calc

# 直接用浏览器打开 index.html
open index.html  # macOS
start index.html # Windows
xdg-open index.html # Linux
```

### 方法二：使用本地服务器

```bash
# 使用 Python 3
python -m http.server 8000

# 使用 Python 2
python -m SimpleHTTPServer 8000

# 使用 Node.js (需要先安装 http-server)
npx http-server -p 8000

# 使用 PHP
php -S localhost:8000
```

然后访问：`http://localhost:8000`

### 方法三：在线部署（推荐用于演示）

#### 使用 Vercel
```bash
# 安装 Vercel CLI
npm i -g vercel

# 部署
vercel
```

#### 使用 Netlify
```bash
# 安装 Netlify CLI
npm i -g netlify-cli

# 部署
netlify deploy --prod
```

#### 使用 GitHub Pages
1. 将项目推送到 GitHub 仓库
2. 进入仓库 Settings → Pages
3. 选择 main 分支，点击 Save
4. 访问 `https://<username>.github.io/<repo>/`

## 📖 使用说明

### 基础操作
| 按键 | 功能 |
|------|------|
| 0-9 | 输入数字 |
| + - × ÷ | 四则运算 |
| = | 计算结果 / 触发魔术 |
| AC | 清空全部 |
| ⌫ | 删除一位 |
| % | 百分比 |
| +/- | 正负号切换 |

### 键盘快捷键
| 按键 | 功能 |
|------|------|
| 0-9 | 输入数字 |
| + - * / | 四则运算 |
| Enter 或 = | 计算结果 |
| Backspace | 删除一位 |
| Escape | 清空全部 |
| . | 小数点 |

### 魔术模式操作
| 操作 | 说明 |
|------|------|
| 连续 3 次 = | 进入/退出魔术模式 |
| 第一次运算后按 + | 进入多人输入阶段 |
| 5 秒无输入 | 自动替换数字为：当前时间 - 第一次运算结果 |
| 按 = | 完成最终运算，显示当前时间 |

## 📁 项目结构

```
2026_chunwan_calc/
├── index.html    # 页面结构
├── style.css     # 华为计算器样式
├── script.js     # 计算器逻辑 + 魔术模式
└── README.md     # 说明文档
```

## 🎨 技术栈

- HTML5
- CSS3（渐变、Grid布局、动画）
- 原生 JavaScript（ES6+）

## 📝 注意事项

1. **魔术模式触发**：需要在 800ms 内连续点击 3 次等号键
2. **超时时间**：多人输入阶段 5 秒无输入会自动触发数字替换
3. **时间显示**：使用浏览器本地时间
4. **除零保护**：除以 0 会显示 "Error"
5. **魔术模式无弹窗**：进入/退出魔术模式时不会弹出提示框（控制台有日志）

## 🔍 调试模式

打开浏览器控制台（F12）可以看到详细的魔术模式执行日志：

```
========== compute 被调用 ==========
equalsPressCount: 1
========== compute 被调用 ==========
equalsPressCount: 2
========== compute 被调用 ==========
equalsPressCount: 3
🎭 触发魔术模式切换！
🎭 魔术模式已激活！
```

---

**⚠️ 本应用仅供学习和表演使用** 🎉
